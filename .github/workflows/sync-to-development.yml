name: Sync to Forked Repository for Development Environment

on:
  push:
    branches: [dev] # ì¡°ì§ ë ˆí¬ dev ë¸Œëœì¹˜ ì—…ë°ì´íŠ¸ ì‹œ í¬í¬ ë ˆí¬ devì™€ ë™ê¸°í™”í•˜ì—¬ ê°œë°œ í™˜ê²½ ë°°í¬

jobs:
  sync-to-fork-for-development:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout organization repository dev branch
        uses: actions/checkout@v4

      - name: Remove .github directory # CI/CD not needed in develop repo
        run: rm -rf .github

      - name: Sync source code to forked repository dev branch (0zuth/OneByOne_FE)
        id: sync_to_fork_dev
        uses: cpina/github-action-push-to-another-repository@main
        env:
          API_TOKEN_GITHUB: ${{ secrets.ZERO_GITHUB_KEY }}
        with:
          destination-github-username: 0zuth
          destination-repository-name: OneByOne_FE
          user-email: ${{ secrets.ZERO_ACCOUNT_EMAIL }}
          commit-message: "ğŸ› ï¸ Auto sync from organization dev: ${{ github.event.commits[0].message }}"
          target-branch: dev

      - name: Confirm successful sync to forked repository dev branch
        run: echo "âœ… Successfully synced to forked repository dev branch (0zuth/OneByOne_FE)"
